{% macro TableOfContents(node) %}
    {% set entries = node.entries if (node.entries | length) != 1 else node.entries[0].child_entries %}

    <ol class="toc">
        {% for entry in entries recursive %}
        <li>
            <a href="#{{ entry.section.section_id }}">{{ entry.section.title_nodes | render }}</a>
            {% if entry.child_entries %}
            <ol class="toc">
                {{ loop(entry.child_entries) }}
            </ol>
            {% endif %}
        </li>
        {% endfor %}
    </ol>
{% endmacro %}
